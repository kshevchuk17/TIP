<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Калькулятор</title>
    <link href="./index.css" rel="stylesheet">
</head>
<body>
<div class="header">
    <h1>Калькулятор</h1>
</div>

<div class="calc">
    <span class="num">Число 1: </span><input id="num1" type="text"/>
    <br>
    <div class="operation">
        <span>Операция: </span>
        <select id="operation" onchange="operationChange()">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
            <option value="++">++</option>
            <option value="--">--</option>
        </select>
    </div>
    <span class="num">Число 2: </span><input id="num2" type="text"/>
    <br>
    <button class="calculateButton" onclick="calculate()">Посчитать</button>
    <br>
    <span>Результат: </span><span id="result"></span>
</div>

<script type="text/javascript">
    // alert("Добро пожаловать на страницу Калькулятор")

    function operationChange() {
        return document.getElementById("operation").value;
    }

    function calculate() {
        let result;
        let add_results = 0;
        let num1 = document.getElementById("num1").value;
        let num2 = document.getElementById("num2").value;

        if (num1.indexOf('++') === 0) {
            num1 = Number(num1.replace('++', ''))
            num1++
        } else if(num1.indexOf('--') === 0) {
            num1 = Number(num1.replace('--', ''))
            num1--
        }

        if (num2.indexOf('++') === 0) {
            num2 = Number(num2.replace('++', ''))
            num2++
        } else if(num2.indexOf('--') === 0) {
            num2 = Number(num2.replace('--', ''))
            num2--
        }


        if (typeof(num1) === 'string' && num1.endsWith('++')) {
            num1 = Number(num1.replace('++', ''))
            add_results++
        } else if(typeof(num1) === 'string' && num1.endsWith('--')) {
            num1 = Number(num1.replace('--', ''))
            add_results--
        }

        if (typeof(num2) === 'string' && num2.endsWith('++')) {
            num2 = Number(num2.replace('++', ''))
            add_results++
        } else if(typeof(num2) === 'string' && num2.endsWith('--')) {
            num2 = Number(num2.replace('--', ''))
            add_results--
        }

        switch (operationChange()) {
            case '+':
                result = num1 + num2;
                break;
            case '-':
                result = num1 - num2;
                break;
            case '*':
                result = num1 * num2;
                break;
            case '/':
                result = num1 / num2;
                break;
            case '++':
                result = ++num1;
                break;
            case '--':
                result = --num1;
                break;
        }
        result += add_results
        document.getElementById("result").innerHTML = result;
    }
</script>

<div class="navigation">
    <a href="framesPage.html">< Вымершие опасные твари</a>
    <a href="index.html">Главная</a>
    <a href="aboutPage.html">Об опасных тварях ></a>
</div>
</body>
</html>